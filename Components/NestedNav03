/// venkys nested, v3 includes sider bar scrs bolx scrns of drawer tab



//////////////////////////////////// nested nav exp /////////////////////////

///// BOLX SCRs /////////
import {
  WarehouseContext,
  WarehouseProvider,
} from "./src/Components/Routes/WarehouseContext";
import Login from "./src/Components/Authentication/Login";
import Splash from "./src/Components/Authentication/Splash";

////// DRAWER SCRS ///////
import InnerDashBoardScreen from "./src/Components/CommonScreens/InnerDashBoardScreen";
import OrderPicking from "./src/Components/OrdersPicking/OrderPicking";
import Qc from "./src/Components/RoPoDashboard/Qc";
import BatchPicking from "./src/Components/Batching/BatchPicking";
import Transfering from "./src/Components/Location/Transfering";
import EnquiryScreen from "./src/Components/Inventory/Enquiry_Screen";
///////////////////////////


import React from "react";
import { useTranslation } from "react-i18next";
import {
  Button,
  View,
  Text,
  StyleSheet,
  SafeAreaView,
  TouchableOpacity,
} from "react-native";
import { NavigationContainer } from "@react-navigation/native";
import { createNativeStackNavigator } from "@react-navigation/native-stack";
import { createBottomTabNavigator } from "@react-navigation/bottom-tabs";
import { createDrawerNavigator } from "@react-navigation/drawer";

// Stack Navigator
const Stack = createNativeStackNavigator();
// Bottom Tab Navigator
const Tab = createBottomTabNavigator();
// Drawer Navigator
const Drawer = createDrawerNavigator();

// Screens
const LoginScreen = ({ navigation }) => (
  <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
    <Text>Login Screen</Text>
    <Button title="Login" onPress={() => navigation.replace("Home")} />
  </View>
);

// Home Tab Screens
const HomeScreen = () => (
  <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
    <Text>Home Screen</Text>
  </View>
);

const ProfileScreen = () => (
  <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
    <Text>Profile Screen</Text>
  </View>
);

// Settings Tab Screens
const SettingsScreen = () => (
  <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
    <Text>Settings Screen</Text>
  </View>
);

const AboutScreen = () => (
  <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
    <Text>About Screen</Text>
  </View>
);

const VenkyScreen = () => (
  <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
    <Text>Venky Screen</Text>
  </View>
);

const RaniScreen = () => (
  <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
    <Text>Rani Screen</Text>
  </View>
);

// Bottom Tabs
const BottomTabs = () => (
  <Tab.Navigator screenOptions={{ headerShown: false }}>
    <Tab.Screen name="HomeTab2" component={StackNavigator2} />
    <Tab.Screen
      name="ProfileTab"
      component={ProfileScreen}
      options={{ title: "Profile" }}
    />
  </Tab.Navigator>
);

// ///////////////////////////////////// Drawer nav /////////////////////////////////////////////

// Custom Drawer Component
const CustomDrawerContent = ({ navigation }) => {
  return (
    <SafeAreaView style={styles.drawerContainer}>
      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() => navigation.navigate("BottomTabs")}
      >
        <Text style={styles.drawerText}>Tabs</Text>
      </TouchableOpacity>
      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() => navigation.navigate("Settings")}
      >
        <Text style={styles.drawerText}>Settings</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "InnerHomeDashbrd" },
          })
        }
      >
        <Text style={styles.drawerText}>Innr Dashbrd</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "OrdrPick_frst" },
          })
        }
      >
        <Text style={styles.drawerText}>OrdrPick</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "venky" },
          })
        }
      >
        <Text style={styles.drawerText}>Venky screen</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "Rani" },
          })
        }
      >
        <Text style={styles.drawerText}>Rani screen</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "QC" },
          })
        }
      >
        <Text style={styles.drawerText}>QC screen</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "BatchPicking_new" },
          })
        }
      >
        <Text style={styles.drawerText}>BatchPicking_new screen</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "Transfering_new" },
          })
        }
      >
        <Text style={styles.drawerText}>Transfering_new screen</Text>
      </TouchableOpacity>

      <TouchableOpacity
        style={styles.drawerItem}
        onPress={() =>
          navigation.navigate("BottomTabs", {
            screen: "HomeTab2",
            params: { screen: "EnquiryScreen_new" },
          })
        }
      >
        <Text style={styles.drawerText}>EnquiryScreen_new screen</Text>
      </TouchableOpacity>
    </SafeAreaView>
  );
};

const DrawerNavigator = () => (
  <Drawer.Navigator
    drawerContent={(props) => <CustomDrawerContent {...props} />}
  >
    <Drawer.Screen name="BottomTabs" component={BottomTabs} />
    {/* <Drawer.Screen name="Settings" component={SettingsScreen} />
    <Drawer.Screen name="About" component={AboutScreen} /> */}
  </Drawer.Navigator>
);





// Stack Navigator2   ////////////////////// DEEPER STACK SCREENS VSISBLE IN ALL NESTED NAV /////////////////////////////////////////
const StackNavigator2 = () => (
  <Stack.Navigator initialRouteName="HomeTab" options={{ headerShown: false }}>
    <Stack.Screen
      name="HomeTab"
      component={HomeScreen}
      options={{ headerShown: false }}
    />
    <Stack.Screen
      name="venky"
      component={VenkyScreen}
      options={{ headerShown: false }}
    />
    <Stack.Screen
      name="Rani"
      component={RaniScreen}
      options={{ headerShown: false }}
    />
    <Stack.Screen name="InnerHomeDashbrd" component={InnerDashBoardScreen} options={{ headerShown: false }}/>
    <Stack.Screen name="OrdrPick_frst" component={OrderPicking} options={{ headerShown: false }}/>
    <Stack.Screen name="QC" component={Qc} options={{ headerShown: false }}/>
    <Stack.Screen name="BatchPicking_new" component={BatchPicking} options={{ headerShown: false }}/>
    <Stack.Screen name="Transfering_new" component={Transfering} options={{ headerShown: false }}/>
    <Stack.Screen name="EnquiryScreen_new" component={EnquiryScreen} options={{ headerShown: false }}/>
  </Stack.Navigator>
);

// App Container /////////////////////////////////////////// APP.js /////////////////////////////////
export default function App() {
  return (
    <WarehouseProvider>
      <NavigationContainer>
        <AppNavigator />
      </NavigationContainer>
    </WarehouseProvider>
  );
}

// Main Navigator
const AppNavigator = () => (
  <Stack.Navigator
    initialRouteName="Splash"
    screenOptions={{ headerShown: false }}
  >
    <Stack.Screen name="Splash" component={Splash} />
    <Stack.Screen name="Login" component={Login} />
    <Stack.Screen
      name="Home"
      component={DrawerNavigator}
      options={{ headerShown: false }}
    />
  </Stack.Navigator>
);

// Styles
const styles = StyleSheet.create({
  screen: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  drawerContainer: {
    flex: 1,
    padding: 20,
    backgroundColor: "#f7f7f7",
  },
  drawerItem: {
    padding: 15,
    borderBottomWidth: 1,
    borderBottomColor: "#ddd",
  },
  drawerText: {
    fontSize: 18,
    color: "#333",
  },
});
